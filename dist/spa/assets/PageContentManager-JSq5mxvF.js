import{u as C,r as d,a as _,j as e,A as E,P as v,E as T,S as H,d as j,b as w,g as I,s as D,c as F}from"./index-1JA6dDZo.js";const k={page_home:{sections:[{id:"hero",title:"Hero Section (Top)",fields:[{key:"title",label:"Main Headline",type:"text",default:"Education That Builds Capable Professionals"},{key:"description",label:"Description",type:"textarea",default:"Undergraduate Programs In Business Administration And Science Designed To Develop Practical Skills, Analytical Thinking, And Career Readiness."},{key:"hero",label:"Hero Image (Boy)",type:"image",default:"https://images.unsplash.com/photo-1523050854058-8df90110c9f1?w=600&h=400&fit=crop"}]}]},page_about:{sections:[{id:"hero",title:"Hero Section",fields:[{key:"title",label:"Page Title",type:"text",default:"About Us"},{key:"subtitle",label:"Subtitle",type:"textarea",default:"Building Tomorrow's Leaders Through Quality Education And Holistic Development"}]},{id:"overview",title:"Institute Overview",fields:[{key:"overview_title",label:"Overview Title",type:"text",default:"Institute Overview"},{key:"overview_text1",label:"Text Paragraph 1",type:"textarea",default:"Established with a vision to provide world-class education, our institute has been at the forefront of academic excellence for over a decade. We are committed to nurturing young minds and transforming them into capable professionals ready to face global challenges."},{key:"overview_text2",label:"Text Paragraph 2",type:"textarea",default:"Our state-of-the-art infrastructure, experienced faculty, and industry-aligned curriculum ensure that students receive comprehensive education that balances theoretical knowledge with practical skills."},{key:"campus_image",label:"Campus Image",type:"image",default:"https://images.unsplash.com/photo-1562774053-701939374585?w=800&auto=format&fit=crop"}]},{id:"vision_mission",title:"Vision & Mission",fields:[{key:"vision",label:"Vision Statement",type:"textarea",default:"To be a globally recognized institution that shapes future leaders through innovative education, research excellence, and character development, while fostering creativity, critical thinking, and social responsibility."},{key:"mission_list",label:"Mission Points (One per line)",type:"textarea",default:`Provide quality education with modern teaching methodologies
Develop industry-ready professionals with practical skills
Foster innovation, research, and creative thinking
Build strong industry partnerships for placements`}]}]},page_contact:{sections:[{id:"hero",title:"Hero Section",fields:[{key:"title",label:"Page Title",type:"text",default:"Contact Us"},{key:"subtitle",label:"Subtitle",type:"textarea",default:"Get In Touch With Us - We're Here To Help With Your Queries And Admissions"}]}]},page_admissions:{sections:[{id:"hero",title:"Hero Section",fields:[{key:"title",label:"Page Title",type:"text",default:"Admissions"},{key:"subtitle",label:"Subtitle",type:"textarea",default:"Start Your Journey Towards A Bright Future - Admission Process Made Simple"}]}]},page_academics:{sections:[{id:"hero",title:"Hero Section",fields:[{key:"title",label:"Page Title",type:"text",default:"Academics"},{key:"subtitle",label:"Subtitle",type:"textarea",default:"Comprehensive Programs Designed For Industry Readiness And Career Success"}]}]}},m=[{id:"page_home",name:"Home Page",description:"Hero, stats, and promotional sections",path:"/"},{id:"page_about",name:"About Us",description:"Overview, Vision, and Mission statements",path:"/about"},{id:"page_academics",name:"Academics",description:"Program overviews and descriptions",path:"/academics"},{id:"page_admissions",name:"Admissions",description:"Process details and hero section",path:"/admissions"},{id:"page_contact",name:"Contact Page",description:"Headlines and contact information",path:"/contact"}];function U(){const{toast:g}=C(),[i,N]=d.useState(null),[p,h]=d.useState(!1),[o,r]=d.useState({}),[b,x]=d.useState(!1);_();const y=a=>{const t=k[a];if(!t)return{};const s={};return t.sections.forEach(l=>{l.fields.forEach(n=>{n.type==="image"?s.images={...s.images,[n.key]:n.default||""}:s[n.key]=n.default||""})}),s};d.useEffect(()=>{if(!i)return;(async()=>{h(!0);try{const t=j(w,"page_content",i),s=await I(t);if(s.exists()){const l=s.data(),n=y(i),c={...n,...l};Object.keys(c).forEach(u=>{c[u]===""&&n[u]&&(c[u]=n[u])}),l.images&&(c.images={...n.images,...l.images}),r(c)}}catch(t){console.error("Error loading page content:",t)}finally{h(!1)}})()},[i]);const S=a=>{N(a),r(y(a))},P=async()=>{if(i){x(!0);try{await D(j(w,"page_content",i),o,{merge:!0}),g({title:"Success",description:"Page content saved successfully!",className:"bg-green-500 text-white border-none",duration:3e3})}catch(a){console.error("Error saving:",a),g({title:"Error",description:"Failed to save content.",variant:"destructive",duration:3e3})}finally{x(!1)}}},A=async(a,t)=>{try{const s=await F(t);r(l=>({...l,images:{...l.images,[a]:s}}))}catch(s){console.error("Image upload failed:",s),g({title:"Error",description:"Failed to process image.",variant:"destructive",duration:3e3})}},f=i?k[i]:null;return e.jsxs(E,{children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[e.jsx(v,{className:"w-8 h-8 text-blue-600"}),"Page Content Manager"]}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Edit visibility, text, and images for site pages."})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-1 bg-white rounded-2xl shadow-lg p-6 h-fit",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Select Page"}),e.jsx("div",{className:"space-y-3",children:m.map(a=>e.jsxs("button",{onClick:()=>S(a.id),className:`w-full text-left p-4 rounded-xl transition-all border-2 ${i===a.id?"border-blue-500 bg-blue-50":"border-gray-100 hover:border-blue-200 hover:bg-gray-50"} `,children:[e.jsx("div",{className:"font-bold text-gray-900",children:a.name}),e.jsx("div",{className:"text-xs text-gray-500",children:a.description})]},a.id))})]}),e.jsx("div",{className:"lg:col-span-2",children:i&&f?e.jsxs("div",{className:`bg-white rounded-2xl shadow-lg p-8 animate-in fade-in slide-in-from-bottom-4 transition-opacity duration-200 ${p?"opacity-60 pointer-events-none":"opacity-100"}`,children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:["Editing: ",m.find(a=>a.id===i)?.name,p&&e.jsx("div",{className:"w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsx("button",{onClick:()=>window.open(m.find(a=>a.id===i)?.path,"_blank","noopener,noreferrer"),className:"p-2 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg",title:"View Live Page",children:e.jsx(T,{className:"w-5 h-5"})})})]}),e.jsxs("div",{className:"space-y-8",children:[f.sections.map(a=>e.jsxs("div",{className:"border-b last:border-0 pb-8 last:pb-0",children:[e.jsx("h3",{className:"text-lg font-extrabold text-blue-900 mb-4 bg-blue-50 p-2 rounded-lg inline-block",children:a.title}),e.jsx("div",{className:"space-y-6",children:a.fields.map(t=>e.jsxs("div",{children:[t.type==="text"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:t.label}),e.jsx("input",{type:"text",value:o[t.key]||"",onChange:s=>r({...o,[t.key]:s.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 outline-none"})]}),t.type==="textarea"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:t.label}),e.jsx("textarea",{value:o[t.key]||"",onChange:s=>r({...o,[t.key]:s.target.value}),rows:4,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 outline-none resize-none"})]}),t.type==="image"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-2 uppercase",children:t.label}),e.jsxs("div",{className:"relative aspect-video bg-gray-200 rounded-lg overflow-hidden group w-full max-w-sm",children:[o.images?.[t.key]||t.default?e.jsx("img",{src:o.images?.[t.key]||t.default,className:"w-full h-full object-cover"}):e.jsx("div",{className:"flex items-center justify-center h-full text-gray-400 font-medium",children:"No Image Uploaded"}),e.jsx("input",{type:"file",className:"absolute inset-0 opacity-0 cursor-pointer z-10 w-full h-full",onChange:s=>s.target.files?.[0]&&A(t.key,s.target.files[0]),accept:"image/*"}),e.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity text-white font-bold text-sm pointer-events-none",children:"Click to Upload"})]})]})]},t.key))})]},a.id)),e.jsx("div",{className:"pt-6 border-t border-gray-100 flex justify-end sticky bottom-0 bg-white pb-2",children:e.jsx("button",{onClick:P,disabled:b,className:"bg-green-600 text-white px-8 py-3 rounded-xl font-bold hover:bg-green-700 transition-colors shadow-lg flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:b?e.jsx(e.Fragment,{children:"Saving..."}):e.jsxs(e.Fragment,{children:[e.jsx(H,{className:"w-5 h-5"}),"Save All Changes"]})})})]})]}):e.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-400 p-12 bg-gray-50/50 rounded-2xl border-2 border-dashed border-gray-200",children:[e.jsx(v,{className:"w-16 h-16 mb-4 opacity-50"}),e.jsx("p",{className:"text-lg font-medium",children:"Select a page to start configuring content"}),e.jsx("p",{className:"text-sm",children:"Currently available: Home Page"})]})})]})]})}export{U as default};
