import{u as P,r as i,g as f,d,b as c,j as e,A as U,G as L,S as N,e as D,T as A,s as y,l as w}from"./index-1JA6dDZo.js";function M(){const{toast:S}=P(),[F,h]=i.useState(!1),[r,g]=i.useState("dates"),[l,x]=i.useState({applicationStart:"",applicationEnd:"",examDate:"",meritDate:""}),[o,b]=i.useState([]),[p,u]=i.useState([]);i.useEffect(()=>{C()},[]);const C=async()=>{h(!0);try{const s=await f(d(c,"admissions_content","dates"));s.exists()&&x(s.data());const a=await f(d(c,"admissions_content","steps"));a.exists()&&b(a.data().items||[]);const t=await f(d(c,"admissions_content","scholarships"));t.exists()&&u(t.data().items||[])}catch(s){console.error("Error loading admission data:",s)}finally{h(!1)}},j=async s=>{h(!0);try{s==="dates"?(await y(d(c,"admissions_content","dates"),l),w({action:"UPDATE_DATA",target:"Admissions",details:"Updated Admission Dates"})):s==="steps"?(await y(d(c,"admissions_content","steps"),{items:o}),w({action:"UPDATE_DATA",target:"Admissions",details:"Updated Admission Process Steps"})):s==="scholarships"&&(await y(d(c,"admissions_content","scholarships"),{items:p}),w({action:"UPDATE_DATA",target:"Admissions",details:"Updated Scholarship Information"})),S({title:"Success",description:"Changes saved successfully!",className:"bg-green-500 text-white border-none",duration:3e3})}catch(a){console.error("Error saving:",a),S({title:"Error",description:"Failed to save changes.",className:"bg-red-500 text-white border-none",variant:"destructive",duration:3e3})}finally{h(!1)}},k=()=>{b([...o,{step:`0${o.length+1}`,title:"",desc:"",color:"bg-[#BFD8FF]"}])},v=(s,a,t)=>{const n=[...o];n[s]={...n[s],[a]:t},b(n)},E=s=>{b(o.filter((a,t)=>t!==s))},T=()=>{u([...p,{name:"",eligibility:"",amount:"",link:"",icon:"ðŸŽ“"}])},m=(s,a,t)=>{const n=[...p];n[s]={...n[s],[a]:t},u(n)},_=s=>{u(p.filter((a,t)=>t!==s))};return e.jsxs(U,{children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[e.jsx(L,{className:"w-8 h-8 text-blue-600"}),"Admissions Management"]}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Manage Dates, Process Steps, and Scholarship Info."})]}),e.jsxs("div",{className:"flex gap-4 mb-6 border-b border-gray-200",children:[e.jsx("button",{onClick:()=>g("dates"),className:`px-4 py-2 font-bold ${r==="dates"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500"}`,children:"Important Dates"}),e.jsx("button",{onClick:()=>g("steps"),className:`px-4 py-2 font-bold ${r==="steps"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500"}`,children:"Admission Process"}),e.jsx("button",{onClick:()=>g("scholarships"),className:`px-4 py-2 font-bold ${r==="scholarships"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500"}`,children:"Scholarships"})]}),r==="dates"&&e.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-lg max-w-2xl",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700",children:"Application Start Date"}),e.jsx("input",{type:"date",value:l.applicationStart||"",onChange:s=>x({...l,applicationStart:s.target.value}),className:"w-full p-2 border rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700",children:"Application Last Date"}),e.jsx("input",{type:"date",value:l.applicationEnd||"",onChange:s=>x({...l,applicationEnd:s.target.value}),className:"w-full p-2 border rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700",children:"Entrance Exam Date"}),e.jsx("input",{type:"date",value:l.examDate||"",onChange:s=>x({...l,examDate:s.target.value}),className:"w-full p-2 border rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700",children:"Merit List Date"}),e.jsx("input",{type:"date",value:l.meritDate||"",onChange:s=>x({...l,meritDate:s.target.value}),className:"w-full p-2 border rounded-lg"})]}),e.jsxs("button",{onClick:()=>j("dates"),className:"bg-blue-600 text-white px-6 py-2 rounded-lg font-bold flex items-center gap-2 mt-4 hover:bg-blue-700",children:[e.jsx(N,{className:"w-4 h-4"})," Save Dates"]})]})}),r==="steps"&&e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"font-bold text-lg",children:"Process Steps"}),e.jsxs("button",{onClick:k,className:"bg-green-600 text-white px-4 py-2 rounded-lg text-sm font-bold flex items-center gap-1 hover:bg-green-700",children:[e.jsx(D,{className:"w-4 h-4"})," Add Step"]})]}),e.jsx("div",{className:"space-y-4",children:o.map((s,a)=>e.jsxs("div",{className:"flex gap-4 items-start border p-4 rounded-xl bg-gray-50",children:[e.jsxs("div",{className:"w-16",children:[e.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Step #"}),e.jsx("input",{type:"text",value:s.step,onChange:t=>v(a,"step",t.target.value),className:"w-full p-2 border rounded"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Title"}),e.jsx("input",{type:"text",value:s.title,onChange:t=>v(a,"title",t.target.value),className:"w-full p-2 border rounded mb-2",placeholder:"Step Title"}),e.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Description"}),e.jsx("textarea",{value:s.desc,onChange:t=>v(a,"desc",t.target.value),className:"w-full p-2 border rounded",placeholder:"Description",rows:2})]}),e.jsx("button",{onClick:()=>E(a),className:"text-red-500 p-2 hover:bg-red-50 rounded bg-white border border-red-200 mt-6",children:e.jsx(A,{className:"w-5 h-5"})})]},a))}),e.jsxs("button",{onClick:()=>j("steps"),className:"bg-blue-600 text-white px-6 py-2 rounded-lg font-bold flex items-center gap-2 mt-6 hover:bg-blue-700",children:[e.jsx(N,{className:"w-4 h-4"})," Save Steps"]})]}),r==="scholarships"&&e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"font-bold text-lg",children:"Scholarship Programs"}),e.jsxs("button",{onClick:T,className:"bg-green-600 text-white px-4 py-2 rounded-lg text-sm font-bold flex items-center gap-1 hover:bg-green-700",children:[e.jsx(D,{className:"w-4 h-4"})," Add Program"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:p.map((s,a)=>e.jsxs("div",{className:"border p-4 rounded-xl bg-gray-50 relative",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Name"}),e.jsx("input",{type:"text",value:s.name,onChange:t=>m(a,"name",t.target.value),className:"w-full p-2 border rounded"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Eligibility"}),e.jsx("input",{type:"text",value:s.eligibility,onChange:t=>m(a,"eligibility",t.target.value),className:"w-full p-2 border rounded"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Amount"}),e.jsx("input",{type:"text",value:s.amount,onChange:t=>m(a,"amount",t.target.value),className:"w-full p-2 border rounded"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Link URL (Optional)"}),e.jsx("input",{type:"text",value:s.link||"",onChange:t=>m(a,"link",t.target.value),className:"w-full p-2 border rounded",placeholder:"https://..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Icon Emoji"}),e.jsx("input",{type:"text",value:s.icon,onChange:t=>m(a,"icon",t.target.value),className:"w-full p-2 border rounded"})]})]}),e.jsx("button",{onClick:()=>_(a),className:"absolute top-2 right-2 text-red-500 p-1 hover:bg-red-50 rounded",children:e.jsx(A,{className:"w-4 h-4"})})]},a))}),e.jsxs("button",{onClick:()=>j("scholarships"),className:"bg-blue-600 text-white px-6 py-2 rounded-lg font-bold flex items-center gap-2 mt-6 hover:bg-blue-700",children:[e.jsx(N,{className:"w-4 h-4"})," Save Scholarships"]})]})]})}export{M as default};
